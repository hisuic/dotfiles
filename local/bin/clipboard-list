#!/usr/bin/env bash

if ! cliphist list | head -n 1 | grep -q .; then
  notify-send "Clipboard" "Error: No clipboard history found"
  exit 0
fi

selection="$(cliphist list | rofi -dmenu -p "Clipboard")"
[ -z "$selection" ] && exit 0

printf '%s' "$selection" | cliphist decode | wl-copy

notify-send "Clipboard" "Copied selection to clipboard"
